# Subscription Form with Subcategories - Visual Guide

The job subscription form now includes **expandable subcategories** for precise job matching!

---

## ğŸ¯ Features

âœ… **7 Main Categories** - IT, Management, Finance, Sales, Marketing, Legal, R&D  
âœ… **25 Subcategories** - Detailed specializations within each category  
âœ… **94 Job Roles** - Comprehensive role coverage  
âœ… **Expandable UI** - Click to show/hide subcategories  
âœ… **Flexible Selection** - Choose entire category OR specific subcategories  
âœ… **Smart Matching** - More precise email alerts  

---

## ğŸ“‹ Form Layout

### **Section 1: Personal Information**
```
ğŸ“§ Your Information

Email Address *
[you@example.com]

Full Name (Optional)
[John Doe]
```

### **Section 2: Job Categories & Specializations** â­ NEW!

```
ğŸ’¼ Job Categories & Specializations *
Select categories and optionally choose specific specializations

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜‘ IT & Software            5 specializations â–¼ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   â˜‘ Software Development                        â”‚
â”‚      Frontend Developer (React, Vue, Angular),  â”‚
â”‚      Backend Developer (Node.js, Python...)     â”‚
â”‚                                                  â”‚
â”‚   â˜ Data & AI                                   â”‚
â”‚      Data Scientist, Data Analyst, ML Eng...    â”‚
â”‚                                                  â”‚
â”‚   â˜ Infrastructure & Cloud                      â”‚
â”‚      DevOps Engineer, Cloud Architect...        â”‚
â”‚                                                  â”‚
â”‚   â˜ Security                                    â”‚
â”‚      Cybersecurity Analyst, Ethical Hacker...   â”‚
â”‚                                                  â”‚
â”‚   â˜ Design & Product                            â”‚
â”‚      UI/UX Designer, Product Designer...        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜ Management               4 specializations â–¶ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜‘ Sales                    4 specializations â–¼ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   â˜‘ Hunting (New Business)                      â”‚
â”‚      Sales Development Representative (SDR),    â”‚
â”‚      Business Development Representative...     â”‚
â”‚                                                  â”‚
â”‚   â˜‘ Technical Sales                             â”‚
â”‚      Sales Engineer / Pre-Sales Consultant,     â”‚
â”‚      Solutions Architect +1 more                â”‚
â”‚                                                  â”‚
â”‚   â˜ Farming (Existing Clients)                  â”‚
â”‚      Account Manager, Customer Success...       â”‚
â”‚                                                  â”‚
â”‚   â˜ Leadership & Strategy                       â”‚
â”‚      Sales Manager, Director of Sales...        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

... (and 4 more categories)
```

### **Section 3: Job Type**
```
â° Job Type

[Full-time]  [Part-time]  [Contract]
[Remote]     [Hybrid]     [Internship]
```

### **Section 4: Experience Level**
```
ğŸ’¼ Experience Level

[Dropdown: Any Level â–¼]
- Entry Level
- Mid Level
- Senior Level
- Lead/Manager
- Executive
```

### **Section 5: Location**
```
ğŸ“ Preferred Location

[e.g., Mumbai, Remote, Bangalore]
```

### **Section 6: Salary**
```
ğŸ’° Minimum Salary (Optional)

[50000]
Annual salary in your local currency
```

### **Section 7: Notification Frequency**
```
ğŸ“§ How Often Should We Notify You?

â—‹ Instant (as jobs are posted)
â— Daily Digest
â—‹ Weekly Summary
```

---

## ğŸ¬ User Interactions

### **Scenario 1: Select Entire Category**

**User Action:** Click checkbox next to "IT & Software"  
**Result:**  
- âœ… IT & Software category selected
- ğŸ“‚ Subcategories automatically expand
- ğŸ“§ Will receive ALL IT jobs (Software Dev, Data & AI, Cloud, Security, Design)

### **Scenario 2: Select Specific Subcategories**

**User Action:**  
1. Click checkbox next to "Sales"
2. Category expands showing 4 subcategories
3. Click "Hunting (New Business)" and "Technical Sales"

**Result:**  
- âœ… Sales category selected
- âœ… 2 subcategories selected: Hunting, Technical Sales
- ğŸ“§ Will receive ONLY SDR, BDR, AE, Sales Engineer roles
- âŒ Will NOT receive Account Manager, CSM, Sales Manager roles

### **Scenario 3: Mixed Selection**

**User Action:**  
- Select entire "IT & Software" category (all subcategories)
- Select "Management" â†’ then only "Product" subcategory
- Select "Marketing" â†’ then "Digital" and "Strategy" subcategories

**Result:**  
- âœ… All IT roles
- âœ… Only PM, APM, Product Owner roles
- âœ… Only Digital Marketing + Marketing Manager/PMM/Brand roles

---

## ğŸ“Š Data Storage Format

### **Database: job_subscriptions table**

```sql
INSERT INTO job_subscriptions (
  email,
  name,
  categories,
  subcategories,  -- NEW!
  job_types,
  experience_level,
  location,
  salary_min,
  notification_frequency
) VALUES (
  'john@example.com',
  'John Doe',
  ARRAY['it', 'sales'],                    -- Main categories
  ARRAY['it:Software Development',         -- Specific subcategories
        'it:Data & AI',
        'sales:Hunting (New Business)',
        'sales:Technical Sales'],
  ARRAY['Full-time', 'Remote'],
  'Mid Level',
  'San Francisco',
  100000,
  'daily'
);
```

---

## ğŸ” Job Matching Logic

### **When New Job is Posted**

```typescript
function matchJobToSubscriptions(job: Job) {
  // Job details
  const jobCategory = 'sales';  // e.g., Sales job
  const jobSubcategory = 'Hunting (New Business)';
  const jobTitle = 'Sales Development Representative';
  
  // Find matching subscriptions
  const matches = subscriptions.filter(sub => {
    // 1. Category must match
    if (!sub.categories.includes(jobCategory)) {
      return false;
    }
    
    // 2. If user selected specific subcategories, check those
    if (sub.subcategories.length > 0) {
      const userSubcatsForCategory = sub.subcategories.filter(
        s => s.startsWith(`${jobCategory}:`)
      );
      
      if (userSubcatsForCategory.length > 0) {
        // User wants specific subcategories
        const wantsThisSubcat = userSubcatsForCategory.some(
          s => s === `${jobCategory}:${jobSubcategory}`
        );
        if (!wantsThisSubcat) return false;
      }
      // If no subcats for this category, user wants ALL
    }
    
    // 3. Check other filters (job type, location, salary, etc.)
    if (sub.job_types.length > 0 && !sub.job_types.includes(job.type)) {
      return false;
    }
    
    if (sub.location && !job.location.includes(sub.location)) {
      return false;
    }
    
    if (sub.salary_min && job.salary < sub.salary_min) {
      return false;
    }
    
    return true;
  });
  
  return matches;
}
```

---

## ğŸ“§ Email Templates

### **Example 1: Broad Subscription**

**User subscribed to:** Entire IT & Software category

**Email Subject:** 12 New IT & Software Jobs - Daily Digest

```
Hi John! ğŸ‘‹

Here are today's IT & Software jobs matching your preferences:

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‚ Software Development (5 jobs)

1. Senior React Developer @ Google
   Remote | $120k-150k | [Apply Now]

2. Full Stack Engineer @ Facebook  
   Hybrid | $130k-160k | [Apply Now]

...

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‚ Data & AI (4 jobs)

1. Machine Learning Engineer @ Netflix
   Remote | $150k-180k | [Apply Now]

...

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‚ Infrastructure & Cloud (3 jobs)

1. DevOps Engineer @ Amazon
   On-site | $110k-140k | [Apply Now]

...
```

### **Example 2: Specific Subcategories**

**User subscribed to:** Sales > Hunting + Technical Sales only

**Email Subject:** 5 New Sales Jobs (Hunting & Technical) - Daily Digest

```
Hi Sarah! ğŸ‘‹

Here are today's jobs matching your specializations:

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‚ Hunting (New Business) (3 jobs)

1. SDR - Enterprise Sales @ Salesforce
   Remote | $60k-80k + Commission | [Apply Now]

2. Business Development Representative @ HubSpot
   Hybrid | $55k-75k + Commission | [Apply Now]

3. Account Executive @ Stripe
   Remote | $100k-130k OTE | [Apply Now]

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‚ Technical Sales (2 jobs)

1. Sales Engineer @ MongoDB
   Remote | $120k-150k | [Apply Now]

2. Pre-Sales Solutions Consultant @ Snowflake
   Hybrid | $130k-160k | [Apply Now]

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

You're NOT receiving:
âŒ Account Manager roles (Farming)
âŒ Sales Manager roles (Leadership)

Want more? [Update Preferences]
```

---

## ğŸ¨ UI Components

### **Category Card - Collapsed**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜ Sales          4 specializations   â–¶  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Category Card - Expanded**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜‘ Sales          4 specializations   â–¼  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                           â”‚
â”‚  â˜‘ Hunting (New Business)                â”‚
â”‚     Sales Development Representative...   â”‚
â”‚                                           â”‚
â”‚  â˜ Farming (Existing Clients)            â”‚
â”‚     Account Manager, Customer Success...  â”‚
â”‚                                           â”‚
â”‚  â˜ Leadership & Strategy                 â”‚
â”‚     Sales Manager, Director of Sales...   â”‚
â”‚                                           â”‚
â”‚  â˜‘ Technical Sales                       â”‚
â”‚     Sales Engineer / Pre-Sales +1 more    â”‚
â”‚                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Subcategory Item - Selected**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜‘ Software Development                     â”‚
â”‚   Frontend Developer (React, Vue, Angular),â”‚
â”‚   Backend Developer (Node.js, Python...) +2â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Subcategory Item - Not Selected**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜ Data & AI                                â”‚
â”‚   Data Scientist, Data Analyst +3 more     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ¨ Benefits

### **For Users**
âœ… **Precision** - Get ONLY the jobs you want  
âœ… **Less Noise** - No irrelevant job alerts  
âœ… **Flexibility** - Choose broad OR narrow categories  
âœ… **Transparency** - See exactly what roles are included  
âœ… **Control** - Expand/collapse to explore subcategories  

### **For the Platform**
âœ… **Higher Engagement** - Users receive relevant jobs  
âœ… **Better Click Rates** - Targeted emails = more clicks  
âœ… **Reduced Unsubscribes** - Happy users stay subscribed  
âœ… **Data Insights** - Know which subcategories are popular  
âœ… **Competitive Advantage** - Most job boards don't offer this  

---

## ğŸš€ Implementation Status

- âœ… **Frontend:** Expandable category selection UI
- âœ… **Database:** `subcategories` column with GIN index
- âœ… **Constants:** 94 roles across 25 subcategories defined
- â³ **Backend:** Email notification matching logic (TODO)
- â³ **Email Templates:** Grouped by subcategory (TODO)

---

## ğŸ“ Migration Guide

If you already have the `job_subscriptions` table without the `subcategories` column:

```sql
-- Add column
ALTER TABLE job_subscriptions 
ADD COLUMN IF NOT EXISTS subcategories TEXT[] DEFAULT '{}';

-- Add index
CREATE INDEX IF NOT EXISTS idx_subscriptions_subcategories 
ON job_subscriptions USING GIN(subcategories);

-- Verify
SELECT column_name, data_type 
FROM information_schema.columns 
WHERE table_name = 'job_subscriptions' 
AND column_name = 'subcategories';
```

---

**Last Updated:** January 31, 2026  
**Feature:** Expandable Subcategories in Subscription Form  
**Total Subcategories:** 25 across 7 main categories  
**Total Job Roles:** 94  
